
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../1.Install-the-CLI/">
      
      
        <link rel="next" href="../3.stand-up-the-iridium-ui/">
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.3.1">
    
    
      
        <title>Stand up locally - Iridium</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-XQP7070X67"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-XQP7070X67",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XQP7070X67",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stand-up-locally" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest version.
<a href="../../..">
    <strong>Click here to go to latest.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->



<!-- Header -->
<header class="md-header" data-md-component="header">
    <nav
            class="md-header__inner md-grid"
            aria-label="header.title"
    >

        <!-- Link to home -->
        <a
                href="../.."
                title="Iridium"
                class="md-header__button md-logo"
                aria-label="Iridium"
                data-md-component="logo"
        >
            
  <img src="../../images/iridiumxl.png" alt="logo">

        </a>

        <!-- Button to open drawer -->
        <label class="md-header__button md-icon" for="__drawer">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
        </label>

        <!-- Header title -->
        <div class="md-header__title" data-md-component="header-title">
            <div class="md-header__ellipsis">
                <div class="md-header__topic">

                </div>
                <div class="md-header__topic" data-md-component="header-topic">
<!--          <span class="md-ellipsis">-->
<!--            -->
<!--              Stand up locally-->
<!--            -->
<!--          </span>-->
                </div>
            </div>
        </div>

        <!-- Color palette -->
        
        <form class="md-header__option" data-md-component="palette">
            
        </form>
        

        <!-- Site language selector -->
        

        <!-- Button to open search modal -->
        

        <!-- Repository information -->
        
        <div class="md-header__source">
            <a href="https://github.com/IridiumIdentity/iridium" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
        </div>
        
    </nav>

    <!-- Navigation tabs (sticky) -->
    
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->




<!-- Main navigation -->
<nav
        class="md-nav md-nav--primary"
        aria-label="nav.title"
        data-md-level="0"
>

    <!-- Site title -->
    <label class="md-nav__title" for="__drawer">
        <a
                href="../.."
                title="Iridium"
                class="md-nav__button md-logo"
                aria-label="Iridium"
                data-md-component="logo"
        >
            
  <img src="../../images/iridiumxl.png" alt="logo">

        </a>
    </label>

    <!-- Repository information -->
    
    <div class="md-nav__source">
        <a href="https://github.com/IridiumIdentity/iridium" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
    

    <!-- Render item list -->
    <ul class="md-nav__list" data-md-scrollfix>
        
        
        
        



        
        
        
        



        
        
        
        



        
        
        
        



        
        
        
        



        
        
        
        



        
        
        
        



        
    </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#youll-need-the-following-to-run-iridium-locally" class="md-nav__link">
    You'll need the following to run iridium locally:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stand-up-the-database" class="md-nav__link">
    Stand up the database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initialize-the-iridium-database" class="md-nav__link">
    Initialize the Iridium Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initialize-with-iridium-with-a-login-provider" class="md-nav__link">
    Initialize with Iridium with a Login Provider
  </a>
  
    <nav class="md-nav" aria-label="Initialize with Iridium with a Login Provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-the-database" class="md-nav__link">
    Initialize the database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-iridium-core-server" class="md-nav__link">
    Run the Iridium Core Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="stand-up-locally">Stand up locally</h1>
<h3 id="youll-need-the-following-to-run-iridium-locally">You'll need the following to run iridium locally:</h3>
<ul>
<li><a href="https://nodejs.org/en">Node 18</a></li>
<li><a href="https://adoptium.net/temurin/releases/">Java 17</a></li>
<li><a href="https://docs.docker.com/">Docker</a></li>
</ul>
<p>Iridium is dependent on an RDBMS system such as <a href="https://www.mysql.com/">MySQL</a> or <a href="https://mariadb.org/">MariaDB</a>.</p>
<p>Note: all commands are run from the root of the distribution folder you <a href="../1.Install-the-CLI/">downloaded and extracted in the previous step</a>,
The set up in this document is not intended for production purposes.</p>
<h3 id="stand-up-the-database">Stand up the database</h3>
<p>Run an instance of MariaDB locally. </p>
<pre><code class="language-shell">$ docker run  --name mariadb \
    -p 3306:3306 \
    -e MYSQL_ROOT_PASSWORD=iridium \
    -e MYSQL_DATABASE=identities \
    -e MYSQL_USER=iridium \
    -e MYSQL_PASSWORD=iridium \
    -d mariadb:latest
</code></pre>
<p>Now you'll be able to start and stop the MariaDB container with the following commands.</p>
<pre><code class="language-shell">$ docker stop mariadb
$ docker start mariadb
</code></pre>
<p>At this point you have an instance of MariaDB.
You can verify this by executing <code>docker ps</code>, you should see similar output like below</p>
<pre><code class="language-shell"> docker ps
CONTAINER ID   IMAGE                                        COMMAND                  CREATED         STATUS         PORTS                                        NAMES
a44c37b6d4c1   mariadb:10.6.11                              &quot;docker-entrypoint.s…&quot;   6 seconds ago   Up 3 seconds   0.0.0.0:3306-&gt;3306/tcp                       mariadb
</code></pre>
<p><a href="#initialize-the-iridium-database">We still need to initialize the database with specific data for Iridium to function</a></p>
<h2 id="initialize-the-iridium-database">Initialize the Iridium Database</h2>
<p>Iridium needs specific data entities to exist for it to function. This guide demonstrates how to use the iridium CLI
to execute this task.  This document assumes you have downloaded and unpacked the binary distribution of Iridium in a
previous step as detail <a href="../1.Install-the-CLI/">here</a>.</p>
<p>To initialize the database execute the following command.  Again we are expecting you to be in the top level folder of
expanded tar.gz distribution you downloaded and unpacked earlier.</p>
<p><strong>NOTE</strong>
Iridium init is meant to be non-destructive in that if you initialize the database once it will not work again.  You will need to bring your 
containers all the way down to run the <code>init</code> function again. </p>
<ol>
<li><a href="#initialize-with-iridium-with-the-github-login-provider">Initialize with a social provider</a></li>
</ol>
<h2 id="initialize-with-iridium-with-a-login-provider">Initialize with Iridium with a Login Provider</h2>
<p>Again we are expecting you to be in the top level folder of
expanded tar.gz distribution you downloaded and unpacked earlier. For ease of getting started lets focus on using only provider at the moment.
You'll need to set your GitHub Client credentials in the file below.  <a href="../../5.-External-Identity-Providers/create-github-application/">Instructions on how to do this with GitHub are here.</a>  You can do this by executing. </p>
<pre><code class="language-shell">$ vim conf/external-providers.yaml
</code></pre>
<p>Modify the contents of the file to match below, you'll need to modify the values to be specific for your GitHub Oauth application.<br />
You will want to remove the Google YAML block for this quick start. </p>
<pre><code class="language-yaml">- name: &quot;github&quot;
  clientId: &quot;${yourClientId}&quot;
  clientSecret: &quot;${yourClientSecret&quot;
</code></pre>
<h3 id="initialize-the-database">Initialize the database</h3>
<p>Run the following command to initialize the database with the GitHub credentials, and other needed entities for Iridium to run.</p>
<pre><code class="language-shell">$ ./bin/iridium init 
</code></pre>
<p>Upon successful initialization of the database you'll see similar output.  </p>
<pre><code class="language-shell">06:22:59.884 [main] INFO  software.iridium.cli.command.InitCommand - ########################################
06:22:59.884 [main] INFO  software.iridium.cli.command.InitCommand - Database successfully initialized
06:22:59.884 [main] INFO  software.iridium.cli.command.InitCommand - ########################################
06:22:59.884 [main] INFO  software.iridium.cli.command.InitCommand - Iridium Management Application ID is localRunIdChangeForProduction
06:22:59.885 [main] INFO  software.iridium.cli.command.InitCommand - Be sure to place this in the appropriate environment.ts file
</code></pre>
<p>Since this is a local run, you will not need to update your <code>environment.ts</code> as stated above.</p>
<h3 id="run-the-iridium-core-server">Run the Iridium Core Server</h3>
<p>Run the following command, again this is from the top level folder of the distribution you downloaded.</p>
<pre><code>$ export SPRING_CONFIG_LOCATION=./conf/application.properties
$  java -jar ./lib/iridium-core-server-${iridium-version}.jar
</code></pre>
<p>If you want to run Iridium from source, <a href="developing-with-intellij.md">Follow the instructions to run Iridium from Intellij here</a>. 
From here, you should be able to log in to the Iridium Management UI using your GitHub account. At this point you've
stood up the system with an Iridium tenant and an associated management application. </p>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<div class="md-copyright">
    
    
    Open source security
    </a>
    
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>